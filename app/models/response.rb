class Response < ApplicationRecord
  belongs_to :questionnaire
  has_many :answers, dependent: :destroy
  accepts_nested_attributes_for :answers

  include Hashid::Rails

  validates :name, presence: true

  attr_encrypted_options.merge!(allow_empty_value: true)
  attr_encrypted :address, key: "\fF\xFE^\x80\x1FZ\xD0]9\xFE\xC5\xBDvJen_\x97z\xEE*\xD2\x83\x87$\x0Fa\v\x17q-"
  attr_encrypted :email, key: "\xA8p\xB5\xA1\xF8\xB0\xD5\x8Cmh\xFA\xEAa\xE2.\xA3\x04\x84\xBDR`\a\x9A\nX\x9Cn$\xF5\xB8[W"
  attr_encrypted :phone, key: "\xFF\xE9\xAA\xB9O\xF5\xD8\v'6\x1FeW\x05`\xD1\xEB\xC3\xA5U\xA3\xAE\xF8Y`\x93\xB9A\x03|\xF6\xD1"
  attr_encrypted :age, key: "\x82\xE9W\xFF\x1F\x9EB\xB7\xEE.e \x82\xC3\xF0U\xB0\x82\e\b\x95\xF7[\xF2\xD7\xCE\x8A\x94_)\xCB\x14"
  attr_encrypted :sex, key: "\x82\xE9W\xFF\x1F\x9EB\xB7\xEE.e \x82\xC3\xF0U\xB0\x82\e\b\x95\xF7[\xF2\xD7\xCE\x8A\x94_)\xCB\x14"
end
